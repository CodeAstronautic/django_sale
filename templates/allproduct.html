{% extends 'base.html' %}

{% load static %}

{% block page %}

<body>
<!-- <script>
  var a = {{product.category}};
  var b = {{ cat.category }}
  function filter(a) {
    return a = b;
  }
  
  // function myFunction() {
  //   document.getElementById("demo").innerHTML = ages.filter(checkAdult);
  }
  </script> -->
  

     <!-- NEW format to display products with filtering -->
  
<div class="site-blocks-cover overlay" style="background-image: url(images/hero_1.jpg);" data-aos="fade" >
      <div class="container">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-6 mt-lg-1 text-center">
            <h1>All products</h1>
            <p class="mb-1">You will find all product over here, we are happy to server you</p>
            <br><br><br><br>
            <a href="#product-section" class="smoothscroll arrow-down"><span><p class="mb-1">Click Here to Start Bidding</p></span></a>
          </div>
        </div>
      </div>
      
      <!-- <a href="#product-section" class="smoothscroll arrow-down"><span class="icon-arrow_downward"></span></a> -->
</div>  

    
    <section class="site-section" id="product-section">
      <div class="container">
        
        <div class="row">
          <div class="col-md-3 order-1 order-md-2">
          <div class="mb-5">
            <h3 class="text-black mb-4 h5 font-family-2">Filter</h3>
            <form method="POST">
              {% csrf_token %}
              <div class="form-group">
                <div class="select-wrap">
                  <span class="icon icon-keyboard_arrow_down"></span>
                  <select class="form-control px-3" name="rdate" placeholder=" by Result Date">
                    <option value="date">by Result Date</option>
                    <option value="new">ascending</option>
                    <option value="old">descending </option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <div class="select-wrap">
                  <span class="icon icon-keyboard_arrow_down"></span>
                  <select name='category' class="form-control px-3">
                    <option value="Category">Category</option>
                      {% for cat in cat %}
                          
                          <option value="{{ cat.id }}"> {{ cat.category }}</option>
                      {% endfor %}
                      </select>
                    
                </div>
              </div>
              <div class="form-group">
                <div class="select-wrap">
                  <span class="icon icon-keyboard_arrow_down"></span>
                  <select class="form-control px-3" name="product_price">
                    <option value="price">Price</option>
                    <option value="lowest">Lowest Price</option>
                    <option value="highest">Highest price</option>
                  </select>
                </div>
              </div>

              <div class="row form-group">
                <div class="section-title mb-3">
              <a href="#product-section"><input type="submit" value="go" class="btn btn-primary btn-md text-white"></a> 
                </div>
              </div>   
            </form>
            </div>

         </div>
          <div class="col-md-9 order-2 order-md-1" id="product-section">
              <div class="container">
                
                <div class="row">   
                  <div class="site-section" >
                    <div class="container">
                      <div class="row large-gutters">
                          <!-- {% for product in products %} -->
                        <div class="col-md-6 col-lg-4 mb-5 mb-lg-5 ">
                          <div class="ftco-media-1">
                            <div class="ftco-media-1-inner">
                              <a href="{% url 'productdetails' id=product.id %}" class="d-inline-block mb-4"><img src="{{product.product_image.url}}" alt="FImageo" class="img-fluid " style="width: 100% ; height: 240px;"></a>
                              <div class="ftco-media-details">
                                  <h3>{{product.product_name}}</h3>
                                  <strong> â‚¹{{product.product_price}}</strong>
                                  <br>
                                  Result date : {{product.rdate}}
                              </div>
                            </div> 
                          </div>
                        </div>
                          <!-- {% endfor %} -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
    </div>  
  </section>
                                                        
{% endblock %}